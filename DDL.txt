//DDL IN CAS


//CREATE TABLE ALARM
CREATE TABLE ALARM (
ALARM_ID tinyint not null AUTO_INCREMENT,
TYPE_ALARM VARCHAR(20) not null,
DESKRIPSI VARCHAR(100) NOT NULL,
CONSTRAINT ALARM_PK PRIMARY KEY (ALARM_ID)
);

//CREATE TABLE COMMAND
CREATE TABLE COMMAND (
 COMMAND_ID TINYINT NOT NULL,
 DESKRIPSI VARCHAR(100) NOT NULL,
 CONSTRAINT PK_COMMAND PRIMARY KEY (COMMAND_ID)   
);

//CREATE TABLE LOG_COMMAND
CREATE TABLE LOG_COMMAND ( 
  LOG_COMMAND_ID INT NOT NULL, 
  COMMAND_ID TINYINT NOT NULL, 
  KETERANGAN VARCHAR(100) NOT NULL, 
  TGL_COMMAND DATETIME NOT NULL, 
  USER_COMMAND VARCHAR(20) NOT NULL, 
  CONSTRAINT PK_LOG_COMMAND PRIMARY KEY (LOG_COMMAND_ID), 
  CONSTRAINT FK_LOG_COMMAND FOREIGN KEY (COMMAND_ID) REFERENCES COMMAND(COMMAND_ID) 
);

//CREATE TABLE CAS
CREATE TABLE CAS (
  CAS_ID INT NOT NULL,
  IP_CAS VARCHAR(15) NOT NULL,
  LOKASI VARCHAR(25) NOT NULL,
  TGL_REGISTER DATETIME NOT NULL,
  STATUS_CONNECTED BOOLEAN NOT NULL,
  TGL_UPDATE_STATUS DATETIME NOT NULL,
  CONSTRAINT PK_CAS PRIMARY KEY (CAS_ID)
);

//CREATE TABLE PORTAL
CREATE TABLE PORTAL ( 
  PORTAL_ID INT NOT NULL, 
  SERIAL_NUMBER VARCHAR(24) NOT NULL, 
  TGL_PASANG DATETIME NOT NULL, 
  CAS_ID INT NOT NULL, 
  JENIS_PORTAL VARCHAR(30) NOT NULL, 
  STATUS_PORTAL BOOLEAN NOT NULL, 
  CONSTRAINT PK_PORTAL PRIMARY KEY (PORTAL_ID), 
  CONSTRAINT FK_PORTAL FOREIGN KEY (CAS_ID) REFERENCES CAS(CAS_ID) 
);

//ADD CREATE TABLE USERNAME
CREATE TABLE USERNAME (
  USER_NAME_CAS VARCHAR(15) NOT NULL,
  PASSWORD BINARY(16) not null,
  CONSTRAINT PK_USERNAME PRIMARY KEY (USER_NAME_CAS)
);

//CREATE TABLE SCAN_PORTAL
CREATE TABLE SCAN_PORTAL (
  SCAN_PORTAL_ID INT NOT NULL,
  START_TIME DATETIME NOT NULL,
  DURASI TINYINT NOT NULL,
  ALARM_STATUS BOOLEAN NOT NULL,
  IMAGE_DATA VARCHAR(32) NOT NULL,
  VIDEO_DATA VARCHAR(32) NOT NULL,
  NO_KONTAINER VARCHAR(18) NOT NULL,
  TGL_TERKIRIM DATETIME NOT NULL,
  TERKIRIM_KE_DC BOOLEAN NOT NULL,
  TERKIRIM_KE_MQ BOOLEAN NOT NULL,
  CAS_ID INT NOT NULL,
  ALARM_ID TINYINT NOT NULL,
  TGL_BUAT DATETIME NOT NULL,
  USER_NAME_CAS VARCHAR(15) NOT NULL,
  CONSTRAINT PK_SCAN_PORTAL PRIMARY KEY (SCAN_PORTAL_ID),
  CONSTRAINT FK_SCAN_PORTAL_1 FOREIGN KEY (CAS_ID) REFERENCES CAS(CAS_ID),
  CONSTRAINT FK_SCAN_PORTAL_2 FOREIGN KEY (ALARM_ID) REFERENCES ALARM(ALARM_ID),
  CONSTRAINT FK_SCAN_PORTAL_3 FOREIGN KEY (USER_NAME_CAS) REFERENCES USERNAME(USER_NAME_CAS)
);

//CREATE TABLE DATA_SCAN
CREATE TABLE DATA_SCAN (
    DATA_SCAN_ID INT NOT NULL,
    WAKTU DECIMAL(2.0) NOT NULL,
    CACAH_GROSS INT NOT NULL,
    NAMA_UNSUR VARCHAR(25) NOT NULL,
    URUTAN_SCAN TINYINT NOT NULL,
    SCAN_PORTAL_ID INT NOT NULL,
    CONSTRAINT PK_DATA_SCAN PRIMARY KEY (DATA_SCAN_ID),
    CONSTRAINT FK_DATA_SCAN FOREIGN KEY (SCAN_PORTAL_ID) REFERENCES SCAN_PORTAL(SCAN_PORTAL_ID)
);

